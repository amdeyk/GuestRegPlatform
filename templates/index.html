<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conference Guest Management System</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <style>
        .welcome-banner {
            padding: 50px 0;
            background: linear-gradient(45deg, #555, #555);
            color: white;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            border-bottom: 10px solid #4cc1af;
        }
        .welcome-banner h1,
        .welcome-banner h2 {
            font-family: 'Arial', sans-serif;
        }
        .welcome-banner h1 {
            font-size: 6rem; /* Large screens */
        }
        .welcome-banner h2 {
            font-size: 3rem; /* Large screens */
        }
        @media (max-width: 768px) {
            /* Adjustments for smaller screens */
            .welcome-banner h1 {
                font-size: 3rem; /* Smaller for mobile */
            }
            .welcome-banner h2 {
                font-size: 1.5rem; /* Smaller for mobile */
            }
            .welcome-banner img {
                height: 100px; /* Smaller logo for mobile */
            }
        }
    </style>
</head>
<body>
    <!-- Header with Bootstrap styles -->
    <header class="bg-dark text-white py-3">
        <div class="container">
            <h1 class="text-center">Welcome to the Conference Guest Management System</h1>
        </div>
    </header>

    <!-- Bootstrap Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary justify-content-center">
        <div class="container">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" href="/guest_registration">Guest Registration</a></li>
                <li class="nav-item"><a class="nav-link" href="/admin_dashboard">Admin Dashboard</a></li>
                <li class="nav-item"><a class="nav-link" href="/employee_dashboard">Employee Dashboard</a></li>
                <li class="nav-item"><a class="nav-link" href="/view_guest">View Guest</a></li>
                <li class="nav-item"><a class="nav-link" href="/report">Generate Report</a></li>
                <li class="nav-item"><a class="nav-link" href="/manage_guest">Manage Guest</a></li>
                <!-- Add the guest_view link here -->
                <li class="nav-item"><a class="nav-link" href="/guest_view">One Guest View</a></li>
            </ul>
        </div>
    </nav>

    <!-- Welcome Text Section -->
    <!-- Welcome Text Section -->
    <div class="welcome-banner text-center">
        <h2>Welcome to Guest Management System of</h2>
        <h1><img src="static/AROI-LOGO.png" alt="AROI Logo" style="height: 200px;"> WB AROI CON 2024</h1>
    </div>
    
    <!-- Summary Report Section -->
    <section class="my-5">
        <div class="container">
            <h2 class="text-center mb-4">Event Summary Histogram</h2>
            <div class="row">
                <div class="col-12 mb-3">
                    <canvas id="summaryHistogram"></canvas>
                </div>
            </div>
        </div>
    </section>

    <section class="my-5">
        <div class="container">
            <h2 class="text-center mb-4">Event Summary Report</h2>
            <div class="row text-center">
                <!-- Total Guests -->
                <div class="col-md-3 mb-3">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Total Guests</h5>
                            <p class="card-text" id="total-guests"></p>
                        </div>
                    </div>
                </div>
                <!-- Guests Checked In -->
                <div class="col-md-3 mb-3">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Guests Checked In</h5>
                            <p class="card-text" id="guests-checked-in"></p>
                        </div>
                    </div>
                </div>
                <!-- Payments Completed -->
                <div class="col-md-3 mb-3">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Payments Completed</h5>
                            <p class="card-text" id="payments-completed"></p>
                        </div>
                    </div>
                </div>
                <!-- Gifts Received -->
                <div class="col-md-3 mb-3">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Gifts Received</h5>
                            <p class="card-text" id="gifts-received"></p>
                        </div>
                    </div>
                </div>
                <!-- Additional categories here -->
                <!-- For brevity, I'll show just one additional example -->
                <!-- Cars Received -->
                <div class="col-md-3 mb-3">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Cars Received</h5>
                            <p class="card-text" id="cars-received"></p>
                        </div>
                    </div>
                </div>
                <!-- You can add more divs for lunch days, faculty gifts, certificates, etc. -->
                <!-- Lunch Day 1 -->
                <div class="col-md-3 mb-3">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Lunch Day 1</h5>
                            <p class="card-text" id="lunch-day1"></p>
                        </div>
                    </div>
                </div>
                <!-- Add more sections for other fields like Dinner Day 1, Lunch Day 2, etc. -->
            </div>
        </div>
        <div class="container">
        <div class="row text-center">
        <div class="col-md-3 mb-3">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Dinner Day 1</h5>
                        <p class="card-text" id="dinner-day1"></p>
                    </div>
                </div>
            </div>

            <!-- Lunch Day 2 -->
            <div class="col-md-3 mb-3">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Lunch Day 2</h5>
                        <p class="card-text" id="lunch-day2"></p>
                    </div>
                </div>
            </div>

            <!-- Dinner Day 2 -->
            <div class="col-md-3 mb-3">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Dinner Day 2</h5>
                        <p class="card-text" id="dinner-day2"></p>
                    </div>
                </div>
            </div>

            <!-- Lunch Day 3 -->
            <div class="col-md-3 mb-3">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Lunch Day 3</h5>
                        <p class="card-text" id="lunch-day3"></p>
                    </div>
                </div>
            </div>

            <!-- Faculty Gifts Received -->
            <div class="col-md-3 mb-3">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Faculty Gifts Received</h5>
                        <p class="card-text" id="faculty-gifts-received"></p>
                    </div>
                </div>
            </div>

            <!-- Conference Certificates Received -->
            <div class="col-md-3 mb-3">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Conference Certificates Received</h5>
                        <p class="card-text" id="conference-certificates-received"></p>
                    </div>
                </div>
            </div>

            <!-- Medical Council Certificates Received -->
            <div class="col-md-3 mb-3">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Medical Council Certificates Received</h5>
                        <p class="card-text" id="medical-council-certificates-received"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
    </div>
    <div style="height: 7rem;"></div> <!-- Adjust the height as needed -->
    </section>
    

    <footer class="mt-5">
        <div class="container text-center">
            <button onclick="location.href='/'" class="btn btn-secondary">Home</button>
            <button class="btn btn-secondary">Help: +91-9899339005</button>
            <button onclick="location.href='/upload'" class="btn btn-secondary">Upload CSV</button>
        </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        fetch('/api/summary-report')
            .then(response => response.json())
            .then(data => {
                document.getElementById('total-guests').textContent = data.totalGuests;
                document.getElementById('guests-checked-in').textContent = data.guestsCheckedIn;
                document.getElementById('payments-completed').textContent = data.paymentsCompleted;
                document.getElementById('gifts-received').textContent = data.giftsReceived;
                document.getElementById('cars-received').textContent = data.carsReceived;
                document.getElementById('lunch-day1').textContent = data.lunchDay1;
                document.getElementById('dinner-day1').textContent = data.dinnerDay1;
                document.getElementById('lunch-day2').textContent = data.lunchDay2;
                document.getElementById('dinner-day2').textContent = data.dinnerDay2;
                document.getElementById('lunch-day3').textContent = data.lunchDay3;
                document.getElementById('faculty-gifts-received').textContent = data.facultyGiftsReceived;
                document.getElementById('conference-certificates-received').textContent = data.conferenceCertificatesReceived;
                document.getElementById('medical-council-certificates-received').textContent = data.medicalCouncilCertificatesReceived;
            })
            .catch(error => console.error('Error fetching summary report:', error));
    });
    </script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
        fetch('/api/summary-report')
            .then(response => response.json())
            .then(data => {
                // Fetch the summary data
                var ctx = document.getElementById('summaryHistogram').getContext('2d');
                var summaryHistogram = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [
                            'Total Guests',
                            'Guests Checked In',
                            'Payments Completed',
                            'Gifts Received',
                            'Cars Received',
                            'Lunch Day 1',
                            'Dinner Day 1',
                            'Lunch Day 2',
                            'Dinner Day 2',
                            'Lunch Day 3',
                            'Faculty Gifts Received',
                            'Conference Certificates Received',
                            'Medical Council Certificates Received'
                        ],
                        datasets: [{
                            label: 'Count',
                            data: [
                                data.totalGuests,
                                data.guestsCheckedIn,
                                data.paymentsCompleted,
                                data.giftsReceived,
                                data.carsReceived,
                                data.lunchDay1,
                                data.dinnerDay1,
                                data.lunchDay2,
                                data.dinnerDay2,
                                data.lunchDay3,
                                data.facultyGiftsReceived,
                                data.conferenceCertificatesReceived,
                                data.medicalCouncilCertificatesReceived
                            ],
                            backgroundColor: [
                                'rgba(255, 99, 132, 0.2)',
                                'rgba(54, 162, 235, 0.2)',
                                'rgba(255, 206, 86, 0.2)',
                                'rgba(75, 192, 192, 0.2)',
                                'rgba(153, 102, 255, 0.2)',
                                'rgba(255, 159, 64, 0.2)',
                                'rgba(199, 199, 199, 0.2)',
                                'rgba(83, 102, 255, 0.2)',
                                'rgba(40, 159, 64, 0.2)',
                                'rgba(255, 99, 132, 0.2)',
                                'rgba(54, 162, 235, 0.2)',
                                'rgba(255, 206, 86, 0.2)',
                                'rgba(75, 192, 192, 0.2)'
                            ],
                            borderColor: [
                                'rgba(255,99,132,1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 159, 64, 1)',
                                'rgba(199, 199, 199, 1)',
                                'rgba(83, 102, 255, 1)',
                                'rgba(40, 159, 64, 1)',
                                'rgba(255,99,132,1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)',
                                'rgba(75, 192, 192, 1)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            })
            .catch(error => console.error('Error fetching summary report:', error));
    });
    </script>


</body>
</html>
